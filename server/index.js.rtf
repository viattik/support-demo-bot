{\rtf1\ansi \deff1{\fonttbl{\f1\fmodern\fprq1\fcharset0 Monotype;}}{\colortbl;\red00\green43\blue54;\red131\green148\blue150;\red220\green50\blue47;\red220\green50\blue47;\red88\green110\blue117;\red88\green110\blue117;\red108\green113\blue196;\red108\green113\blue196;\red220\green50\blue47;\red38\green139\blue210;\red147\green161\blue161;\red108\green113\blue196;\red203\green75\blue22;\red133\green153\blue00;\red203\green75\blue22;\red147\green161\blue161;}
\paperw11905\paperh16837\margl1134\margr1134\margt1134\margb1134\sectd\plain\f1\fs24
\pard \cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}{\cf3{'use strict'}}{\cf2{}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}{\cf13{var}} {\cf2{TelegramBot}} {\cf11{=}} {\cf2{}}{\cf16{require}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf3{'node-telegram-bot-api'}}{\cf2{}}{\cf11{),}}}\par\pard
\cbpat1{{\cf2{		telegram}} {\cf11{=}} {\cf2{}}{\cf13{new}} {\cf2{}}{\cf16{TelegramBot}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf3{"YOUR_BOT_TOKEN"}}{\cf2{}}{\cf11{, \{}} }\par\pard
\cbpat1{{\cf2{             polling}}{\cf11{:}} {\cf2{}}{\cf13{true}} {\cf2{}}{\cf11{\});}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{telegram}}{\cf11{.}}{\cf2{}}{\cf16{on}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf3{"text"}}{\cf2{}}{\cf11{, (}}{\cf2{message}}{\cf11{) => \{}}}\par\pard
\cbpat1{{\cf2{	telegram}}{\cf11{.}}{\cf2{}}{\cf16{sendMessage}}{\cf2{}}{\cf11{(}}{\cf2{message}}{\cf11{.}}{\cf2{chat}}{\cf11{.}}{\cf2{id}}{\cf11{,}} {\cf2{}}{\cf3{"Hello }}}\par\pard
\cbpat1{{\cf3{                      world"}}{\cf2{}}{\cf11{);}}}\par\pard
\cbpat1{{\cf2{}}{\cf11{\});}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}{\cf13{const}} {\cf2{port}} {\cf11{= (}}{\cf2{process}}{\cf11{.}}{\cf2{env}}{\cf11{.}}{\cf2{PORT}} {\cf11{||}} {\cf2{}}{\cf4{{5}{0}{0}{0}}}{\cf2{}}{\cf11{);}}}\par\pard
\cbpat1{{\cf2{}}{\cf13{const}} {\cf2{webSocketServer}} {\cf11{=}} {\cf2{}}{\cf16{require}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf3{'websocket'}}{\cf2{}}{\cf11{).}}}\par\pard
\cbpat1{{\cf2{                        server}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}{\cf13{const}} {\cf2{http}} {\cf11{=}} {\cf2{}}{\cf16{require}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf3{'http'}}{\cf2{}}{\cf11{);}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}{\cf13{const}} {\cf2{chats}} {\cf11{= \{\};}}}\par\pard
\cbpat1{{\cf2{}}{\cf13{const}} {\cf2{connections}} {\cf11{= [];}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}{\cf13{function}} {\cf2{}}{\cf16{getAutoReply}}{\cf2{}}{\cf11{(}}{\cf2{text}}{\cf11{) \{}}}\par\pard
\cbpat1{{\cf2{}}	{\cf13{switch}} {\cf2{}}{\cf11{(}}{\cf2{text}}{\cf11{) \{}}}\par\pard
\cbpat1{{\cf2{}}		{\cf13{case}} {\cf2{}}{\cf3{'/start'}}{\cf2{}}{\cf11{:}}}\par\pard
\cbpat1{{\cf2{}}			{\cf13{return}} {\cf2{}}{\cf3{'Ð”Ð¾Ð±Ñ\'c0Ð¾Ð\'f3Ð¾ Ð\'f2Ñ\'c0ÐµÐ\'fcÐµÐ½Ð¸ }}}\par\pard
\cbpat1{{\cf3{			Ñ\'c1ÑƒÑ‚Ð¾Ð\'fa!}}{\cf7{\\n}}{\cf3{'}}{\cf2{}} {\cf11{+}}}\par\pard
\cbpat1{{\cf2{}}					{\cf3{'Ð\'daÐ¾Ð½Ñ‚Ð°Ð\'faÑ‚Ñ‹ - /contacts}}{\cf7{\\n}}{\cf3{'}}{\cf2{}} {\cf11{+}}}\par\pard
\cbpat1{{\cf2{}}					{\cf3{'Ð\'dfÐ¾Ð´Ð´ÐµÑ\'c0Ð\'f6Ð\'faÐ° - /support'}}{\cf2{}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}			{\cf13{break}}{\cf2{}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}		{\cf13{case}} {\cf2{}}{\cf3{'/contacts'}}{\cf2{}}{\cf11{:}}}\par\pard
\cbpat1{{\cf2{}}			{\cf13{return}} {\cf2{}}{\cf3{'Ð¢ÐµÐ»ÐµÑ\'c4Ð¾Ð½: +{3}{8} ({0}{9}{9}) {9}{9}{9} {9}{9} {9}{9}}}{\cf7{\\n}}{\cf3{'}}{\cf2{}} {\cf11{+}}}\par\pard
\cbpat1{{\cf2{}}					{\cf3{'ÐÐ´Ñ\'c0ÐµÑ\'c1: ÑƒÐ». ÐÐ¸Ð\'faÐ¾Ð»Ð°Ñ }}}\par\pard
\cbpat1{{\cf3{					ÐÐ\'fcÐ¾Ñ\'c1Ð¾Ð\'f2Ð°, {1}{2}}}{\cf7{\\n}}{\cf3{'}}{\cf2{}} {\cf11{+}}}\par\pard
\cbpat1{{\cf2{}}					{\cf3{'Email: support@mail.com'}}{\cf2{}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}			{\cf13{break}}{\cf2{}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}		{\cf13{case}} {\cf2{}}{\cf3{'/support'}}{\cf2{}}{\cf11{:}}}\par\pard
\cbpat1{{\cf2{}}			{\cf13{return}} {\cf2{}}{\cf3{'ÐžÐ\'f6Ð¸Ð´Ð°Ð\'f9Ñ‚Ðµ. Ð§Ñ‚Ð¾Ð±Ñ‹ }}}\par\pard
\cbpat1{{\cf3{			Ð·Ð°Ð\'faÐ¾Ð½Ñ‡Ð¸Ñ‚ÑŒ, Ð½Ð°Ð\'f6Ð\'fcÐ¸Ñ‚Ðµ }}}\par\pard
\cbpat1{{\cf3{			/end_support'}}{\cf2{}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}		{\cf13{case}} {\cf2{}}{\cf3{'/end_support'}}{\cf2{}}{\cf11{:}}}\par\pard
\cbpat1{{\cf2{}}			{\cf13{return}} {\cf2{}}{\cf3{'Ð\'dfÐ¾Ð\'faÐ°.'}}{\cf2{}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}		{\cf13{default}}{\cf2{}}{\cf11{:}}}\par\pard
\cbpat1{{\cf2{}}			{\cf13{break}}{\cf2{}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}	{\cf11{\}}}}\par\pard
\cbpat1{{\cf2{}}{\cf11{\}}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}{\cf13{function}} {\cf2{}}{\cf16{syncToBrowser}}{\cf2{}}{\cf11{() \{}}}\par\pard
\cbpat1{{\cf2{	connections}}{\cf11{.}}{\cf2{}}{\cf16{forEach}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf13{function}}{\cf2{}}{\cf11{(}}{\cf2{connection}}{\cf11{) \{}}}\par\pard
\cbpat1{{\cf2{		connection}}{\cf11{.}}{\cf2{}}{\cf16{sendUTF}}{\cf2{}}{\cf11{(}}{\cf2{JSON}}{\cf11{.}}{\cf2{}}{\cf16{stringify}}{\cf2{}}{\cf11{(}}{\cf2{chats}}{\cf11{));}}}\par\pard
\cbpat1{{\cf2{}}	{\cf11{\});}}}\par\pard
\cbpat1{{\cf2{}}{\cf11{\}}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{telegram}}{\cf11{.}}{\cf2{}}{\cf16{on}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf3{"text"}}{\cf2{}}{\cf11{, (}}{\cf2{message}}{\cf11{) => \{}}}\par\pard
\cbpat1{{\cf2{}}	{\cf13{const}} {\cf2{text}} {\cf11{=}} {\cf2{message}}{\cf11{.}}{\cf2{text}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}	{\cf13{const}} {\cf2{id}} {\cf11{=}} {\cf2{message}}{\cf11{.}}{\cf2{chat}}{\cf11{.}}{\cf2{id}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}	{\cf13{const}} {\cf2{autoReply}} {\cf11{=}} {\cf2{}}{\cf16{getAutoReply}}{\cf2{}}{\cf11{(}}{\cf2{text}}{\cf11{.}}{\cf2{}}{\cf16{toLowerCase}}{\cf2{}}{\cf11{())}}}\par\pard
\cbpat1{{\cf2{}}                   {\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}	{\cf13{if}} {\cf2{}}{\cf11{(}}{\cf2{autoReply}}{\cf11{) \{}}}\par\pard
\cbpat1{{\cf2{		telegram}}{\cf11{.}}{\cf2{}}{\cf16{sendMessage}}{\cf2{}}{\cf11{(}}{\cf2{message}}{\cf11{.}}{\cf2{chat}}{\cf11{.}}{\cf2{id}}{\cf11{,}} {\cf2{autoReply}}{\cf11{);}}}\par\pard
\cbpat1{{\cf2{}}	{\cf11{\}}}}\par\pard
\cbpat1{{\cf2{}}	{\cf13{let}} {\cf2{chat}} {\cf11{=}} {\cf2{chats}}{\cf11{[}}{\cf2{id}}{\cf11{];}}}\par\pard
\cbpat1{{\cf2{}}	{\cf13{if}} {\cf2{}}{\cf11{(!}}{\cf2{chat}} {\cf11{&&}} {\cf2{text}} {\cf11{===}} {\cf2{}}{\cf3{'/support'}}{\cf2{}}{\cf11{) \{}}}\par\pard
\cbpat1{{\cf2{		chats}}{\cf11{[}}{\cf2{id}}{\cf11{] =}} {\cf2{chat}} {\cf11{= \{}}}\par\pard
\cbpat1{{\cf2{}}			{\cf13{from}}{\cf2{}}{\cf11{:}} {\cf2{message}}{\cf11{.}}{\cf2{}}{\cf13{from}}{\cf2{}}{\cf11{,}}}\par\pard
\cbpat1{{\cf2{			messages}}{\cf11{: []}}}\par\pard
\cbpat1{{\cf2{}}		{\cf11{\}}}}\par\pard
\cbpat1{{\cf2{}}	{\cf11{\}}} {\cf2{}}{\cf13{else if}} {\cf2{}}{\cf11{(}}{\cf2{chat}} {\cf11{&&}} {\cf2{text}} {\cf11{===}} {\cf2{}}{\cf3{'/end_support'}}{\cf2{}}{\cf11{) \{}}}\par\pard
\cbpat1{{\cf2{		chats}}{\cf11{[}}{\cf2{id}}{\cf11{] =}} {\cf2{chat}} {\cf11{=}} {\cf2{}}{\cf14{undefined}}{\cf2{}}{\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}	{\cf11{\}}}}\par\pard
\cbpat1{{\cf2{}}	{\cf13{if}}{\cf2{}}{\cf11{(}}{\cf2{chat}}{\cf11{) \{}}}\par\pard
\cbpat1{{\cf2{		chat}}{\cf11{.}}{\cf2{messages}}{\cf11{.}}{\cf2{}}{\cf16{push}}{\cf2{}}{\cf11{(\{}} {\cf2{sender}}{\cf11{:}} {\cf2{}}{\cf4{{0}}}{\cf2{}}{\cf11{,}} {\cf2{text}} {\cf11{\});}}}\par\pard
\cbpat1{{\cf2{}}	{\cf11{\}}}}\par\pard
\cbpat1{{\cf2{}}	{\cf16{syncToBrowser}}{\cf2{}}{\cf11{();}}}\par\pard
\cbpat1{{\cf2{}}{\cf11{\});}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}{\cf13{const}} {\cf2{server}} {\cf11{=}} {\cf2{http}}{\cf11{.}}{\cf2{}}{\cf16{createServer}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf13{function}}{\cf2{}}{\cf11{(}}{\cf2{request}}{\cf11{,}} }\par\pard
\cbpat1{{\cf2{               response}}{\cf11{) \{\});}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{server}}{\cf11{.}}{\cf2{}}{\cf16{listen}}{\cf2{}}{\cf11{(}}{\cf2{port}}{\cf11{,}} {\cf2{}}{\cf13{function}} {\cf2{}}{\cf11{() \{}}}\par\pard
\cbpat1{{\cf2{	console}}{\cf11{.}}{\cf2{}}{\cf16{log}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf3{'Node app is running on port'}}{\cf2{}}{\cf11{,}} {\cf2{port}}{\cf11{);}}}\par\pard
\cbpat1{{\cf2{}}{\cf11{\});}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}{\cf13{var}} {\cf2{wsServer}} {\cf11{=}} {\cf2{}}{\cf13{new}} {\cf2{}}{\cf16{webSocketServer}}{\cf2{}}{\cf11{(\{}}}\par\pard
\cbpat1{{\cf2{	httpServer}}{\cf11{:}} {\cf2{server}}}\par\pard
\cbpat1{{\cf2{}}{\cf11{\});}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{wsServer}}{\cf11{.}}{\cf2{}}{\cf16{on}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf3{'request'}}{\cf2{}}{\cf11{,}} {\cf2{}}{\cf13{function}}{\cf2{}}{\cf11{(}}{\cf2{request}}{\cf11{) \{}}}\par\pard
\cbpat1{{\cf2{	console}}{\cf11{.}}{\cf2{}}{\cf16{log}}{\cf2{}}{\cf11{((}}{\cf2{}}{\cf13{new}} {\cf2{}}{\cf16{Date}}{\cf2{}}{\cf11{()) +}} {\cf2{}}{\cf3{' Connection from }}}\par\pard
\cbpat1{{\cf3{             origin '}}{\cf2{}} {\cf11{+}} {\cf2{request}}{\cf11{.}}{\cf2{origin}} {\cf11{+}} {\cf2{}}{\cf3{'.'}}{\cf2{}}{\cf11{);}}}\par\pard
\cbpat1{{\cf2{	console}}{\cf11{.}}{\cf2{}}{\cf16{log}}{\cf2{}}{\cf11{((}}{\cf2{}}{\cf13{new}} {\cf2{}}{\cf16{Date}}{\cf2{}}{\cf11{()) +}} {\cf2{}}{\cf3{' Connection accepted.}}}\par\pard
\cbpat1{{\cf3{             '}}{\cf2{}}{\cf11{);}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}	{\cf13{var}} {\cf2{connection}} {\cf11{=}} {\cf2{request}}{\cf11{.}}{\cf2{}}{\cf16{accept}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf13{null}}{\cf2{}}{\cf11{,}} {\cf2{request}}{\cf11{.}}}\par\pard
\cbpat1{{\cf2{                  origin}}{\cf11{);}}}\par\pard
\cbpat1{{\cf2{	connections}}{\cf11{.}}{\cf2{}}{\cf16{push}}{\cf2{}}{\cf11{(}}{\cf2{connection}}{\cf11{);}}}\par\pard
\cbpat1{{\cf2{	connection}}{\cf11{.}}{\cf2{}}{\cf16{sendUTF}}{\cf2{}}{\cf11{(}}{\cf2{JSON}}{\cf11{.}}{\cf2{}}{\cf16{stringify}}{\cf2{}}{\cf11{(}}{\cf2{chats}}{\cf11{));}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}	{\cf5{// Browser sent message}}}\par\pard
\cbpat1{{\cf2{	connection}}{\cf11{.}}{\cf2{}}{\cf16{on}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf3{'message'}}{\cf2{}}{\cf11{,}} {\cf2{}}{\cf13{function}}{\cf2{}}{\cf11{(}}{\cf2{message}}{\cf11{) \{}}}\par\pard
\cbpat1{{\cf2{}}		{\cf13{const}} {\cf2{}}{\cf11{\{}} {\cf2{id}}{\cf11{,}} {\cf2{text}} {\cf11{\} =}} {\cf2{JSON}}{\cf11{.}}{\cf2{}}{\cf16{parse}}{\cf2{}}{\cf11{(}}{\cf2{message}}{\cf11{.}}{\cf2{utf{8}Data}}{\cf11{)}}}\par\pard
\cbpat1{{\cf2{}}          {\cf11{;}}}\par\pard
\cbpat1{{\cf2{}}		{\cf13{const}} {\cf2{chat}} {\cf11{=}} {\cf2{chats}}{\cf11{[}}{\cf2{id}}{\cf11{];}}}\par\pard
\cbpat1{{\cf2{}}		{\cf13{if}} {\cf2{}}{\cf11{(!}}{\cf2{chat}}{\cf11{) \{}} {\cf2{}}{\cf13{return}}{\cf2{}}{\cf11{; \}}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{		chat}}{\cf11{.}}{\cf2{messages}}{\cf11{.}}{\cf2{}}{\cf16{push}}{\cf2{}}{\cf11{(\{}} {\cf2{sender}}{\cf11{:}} {\cf2{}}{\cf4{{1}}}{\cf2{}}{\cf11{,}} {\cf2{text}} {\cf11{\});}}}\par\pard
\cbpat1{{\cf2{		telegram}}{\cf11{.}}{\cf2{}}{\cf16{sendMessage}}{\cf2{}}{\cf11{(}}{\cf2{id}}{\cf11{,}} {\cf2{text}}{\cf11{);}}}\par\pard
\cbpat1{{\cf2{}}	{\cf11{\});}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}{\cf11{\});}}}\par\pard
\cbpat1{{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}{\cf5{// sent to admin}}}\par\pard
\cbpat1{{\cf2{telegram}}{\cf11{.}}{\cf2{}}{\cf16{sendMessage}}{\cf2{}}{\cf11{(}}{\cf2{}}{\cf4{{1}{2}{8}{0}{4}{8}{8}{1}{3}}}{\cf2{}}{\cf11{,}} {\cf2{}}{\cf3{'Support Bot }}}\par\pard
\cbpat1{{\cf3{                     restarted'}}{\cf2{}}{\cf11{, \{}}}\par\pard
\cbpat1{{\cf2{	parse_mode}}{\cf11{:}} {\cf2{}}{\cf3{"Markdown"}}{\cf2{}}}\par\pard
\cbpat1{{\cf2{}}{\cf11{\});}}{\cf2{}}}\par\pard
\cbpat1{}}
